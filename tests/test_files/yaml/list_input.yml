components:
  chat_summary_prompt_builder:
    type: haystack.components.builders.chat_prompt_builder.ChatPromptBuilder
    init_parameters:
      template: |
        {% message role="user" %}
        Normalized: {{ query }}
        {% endmessage %}
      required_variables:
        - query
  chat_summary_generator:
    type: haystack.components.generators.chat.openai.OpenAIChatGenerator
    init_parameters:
      model: gpt-4o-mini
      generation_kwargs: {}
  answer_builder:
    type: haystack.components.builders.answer_builder.AnswerBuilder
    init_parameters: {}
connections:
  - sender: chat_summary_prompt_builder.prompt
    receiver: chat_summary_generator.messages
  - sender: chat_summary_generator.replies
    receiver: answer_builder.replies
max_runs_per_component: 100
metadata: {}
inputs:
  query:
    - chat_summary_prompt_builder.query
    - answer_builder.query
outputs:
  answers: answer_builder.answers
